producer (1) -> 
processor (2) -> 
main (3) -> producer, processor

